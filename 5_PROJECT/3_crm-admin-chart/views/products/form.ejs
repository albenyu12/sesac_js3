<%- include('../partials/head') %>
<%- include('../partials/nav') %>

<h1><%= mode==='new' ? 'New Product' : 'Edit Product' %></h1>
<% if (error) { %><p class="error"><%= error %></p><% } %>

<form class="card form" method="post" action="<%= mode==='new' ? '/products/new' : '/products/' + row.id + '/edit' %>">
  <label>name</label>
  <input name="name" value="<%= row?.name || '' %>" required />

  <label>price (integer)</label>
  <input name="price" value="<%= row?.price || '' %>" required />

  <div class="row gap">
    <button class="btn" type="submit">Save</button>
    <a class="btn secondary" href="/products">Cancel</a>
  </div>
</form>

<%- include('../partials/footer') %>
